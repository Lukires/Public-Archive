\documentclass[danish]{article}
\usepackage{revy}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{a4wide}

\title{Kernen -- frit efter...}
\author{Jakob Uhd af revyen m.fl.}

\version{3} % HUSK AT AJOURFØRE VERSIONSNUMMER!!
\status{færdig} % ...OG STATUS!!
\eta{10 min.}

\revyyear{2000}

\begin{document}
\maketitle

\begin{roles}
  \role{F}[Uhd] Fortæller (klædt som en blanding mellem HC Andersen (høj hat, pibe og stor næse) og Niels Andersen (bukser!)
  \role{P}[Sidsel] Gammelt program (en heks)
  \role{C}[Adam] Compiler (en soldat med dragebogslogo som skjold)
  \role{BPF}[Uffe] Brugerprocessens forælder
  \role{B}[Maiken] Brugerproces (pige)
  \role{H}[Jan] en header (har en af 3 hvide hatte på: en lille, en mellem eller en stor... hver med påskriften ``.h''...) 
\end{roles}

\begin{props}
  \prop{Bord}
  \prop{En kerne} f.eks. fra en fersken
  \prop{En lagercelle} en symbolsk indhegning af en art
  \prop{Omvendt træ} af pap
  \prop{CPU} hmmm
\end{props}

\begin{sketch}
  
\says{F} Der kom en compiler marcherende gennem lageret, -c, -o, -c, -o,
--fhemmelighemmeliggnusnask, -c, -o. Han havde været ude og oversætte og skulle
nu hjem. Så mødte han et gammelt program -- det var så ækelt, at slammet hang
helt ned i kildekoden.

\says{P} Godaften compiler, hvor har du en pæn parser. Nu skal du få så mange
datastrukturer du vil eje.

\says{C} Tak skal du have, du gamle program.

\says{P} Kan du se det store søgetræ, det er ganske tomt indeni. Du skal krybe
op i roden, og der ser du et hul du skal lade dig glide ned i gennem og komme
dybt ned i søgetræet. Jeg binder dig en uendelig løkke om livet, så jeg kan
hejse dig op igen, når du råber på mig.

\says{C} Hvad skal jeg så nede i søgetræet?

\says{P} Hente datastrukturer

\says{C} Det var ikke så galt, men hvad skal jeg tage med til dig, du gamle
program, for noget vil du vel have kan jeg inducere

\says{P} Nej, ikke en eneste struktur vil jeg have; du skal bare tage mig en
gammel kerne, som min instruktor glemte, da han sidst var dernede.

\says{C} Lad mig så få den uendelige løkke om livet.

\says{F} Compileren lod sig derpå glide ned gennem træet. I træet var der tre
indgange. Ved et præ-orden gennemløb kom han til den første indgang, uh, der sad
en header, med makrodefinitioner så store som en mainframe fra 70'erne og gloede
på ham.

\scene H, med den mindste hat på, hopper ind på scenen.

\says{C} Du er en net fil!

\says{F} \ldots{}sagde compileren. Så overførte han filen til et sekundært
backup medie. Han tog lige så mange lister som han kunne have i tmp-kataloget.
Så reetablerede han headeren og gik ind af den næste indgang.

\scene H skynder sig ud og skifter til den mellemste hat og kommer ind igen.

\says{C}[overrasket udbrud] Stoustrup!

\says{F} Der sad en header med compilerdirektiver så store som Laszlos
slidearkiv.

\says{C} Du skulle ikke C sådan på mig; gå nu lidt mere pragmatisk til værks.

\says{F} Så overførte han også denne fil til et sekundært backup medie. Nu
bortkastede han alle de lister han havde fyldt tmp-kataloget op med, og tog køer
istedet for; hele tmp-kataloget og alle registrene blev fyldt, så han knapt
kunne køre. Derpå gik han ind ad den næste indgang\ldots{} 

\scene H skynder sig ud og skifter til den største hat og kommer ind igen.

\says{F} \ldots{}nej, det var ækelt! Headeren havde interface erklæringer så
store som publikums alkoholprocent.

\says{C} Ved Naur!

\says{F} \ldots{}udbrød operatoren og tog sig til lexeren; sådanne interface
erklæringer havde han aldrig set før. Så overførte han filen. Næh gudbevares,
hvilke stukturer! Stakke nok til at fylde et helt lager. I hobevis! Da han ikke
kunne bære mere, gik han hen til hullet og råbte op gennem søgetræet.

\scene H ud.

\says{C} Hejs mig nu op, du gamle program.

\says{P} Har du kernen med?

\says{C} Det er sandt, den havde jeg rent glemt.

\says{F} Compileren gik da hen og hentede kernen, og det gamle program hejste
compileren op med den uendelige løkke. Uendeligt lang tid efter stod compileren
igen i lageret.

\says{C} Hvad vil du med den kerne?

\says{P} Det kommer ikke dig ved. Nu har du jo fået datastrukturer: giv du bare
mig kernen -- så skal du bare se...

\says{C} Plus-plus. Vil du straks sige mig hvad du vil med den kerne, eller
jeg oversætter dig!

\says{P} Nej!

\says{F} \ldots{}svarede programmet, og så oversatte compileren det, \act{C
  tager et lyssværd frem, skærer P over og fjerne sværdet igen} \ldots{}og der
lå det.

\scene Pause.

\says{F} Compileren kom nu til det fælles navnerum, hvor han hørte om den
dejlige proces. Og i en tidsskive oversatte han kernen, og vips, kom headeren
med makrodefinitioner så store som en mainframe fra 70'erne.

\scene H, med den mindste hat, hopper ind.

\says{C} Det er rigtignok sent på tidsskiven, men jeg ville så inderligt
gerne se processen, bare et lille øjeblik.

\says{F} Headeren var straks udenfor sit allokerede område \act{H ud af scenen}
og før compileren kunne advare, så han den igen med processen \act{H kommer ind
  med B under armen, B sover} der sad og sov i den i headeren definerede kø og
var så dejlig at enhver kunne se at det var en brugerproces. Compileren kunne
ikke lade være, han måtte simpelthen aktivere hende.

\scene C kysser B. B vågner op og smækker ham en flad og falder i søvn igen. H
tager B med ud igen. H kommer tilbage med den mellemstore hat på.

\says{F} Det samme gentog sig næste cyklus.

\scene C kysser B. B vågner op og smækker ham en flad og falder i søvn igen. H
tager B med ud igen. H kommer tilbage med den største hat på.

\says{F} Men i den tredje tidsskive havde brugerprocessens far sendt en
lineærtids søgefunktion med hende. 

\scene B og BPF kommer ind på scenen. BPF putter en stor rygsæk på hende med
pile bundet sammen i en snor. BPF tager fat i snoren.

\says{F} Og tiden kom, da headeren løb med processen hen til compileren, der
holdt så meget af hende, og så gerne ville have hende som kørende proces.
Headeren bemærkede slet ikke, hvorledes søgefunktionen allokerede pointere der
viste vejen\ldots

\scene Imens: H henter B og mens B langsomt går over til C bliver snoren med
pile strukket ud så man kan se ``pointerne'' komme ud af rygsækken.

\says{F} \ldots{}og da brugerprocessens far blev vækket, kunne han se, hvor hans
barn havde været henne, og han tog compileren og satte ham i en lagercelle!

\scene BPF går hen til C og vifter fy-fy med fingrene og sætter ham så i en celle.

\says{F} HEP! Der sad han, uh hvor hvar der tomt og trist.

\says{BPF} Imorgen skal du portes til Windows!

\says{F} Udenfor navnerummet var der sat en stor processor op. Compilerens
første instruktion var allerede hente fra lageret, men da de ville til at porte
den, sagde han:

\says{C} Man tilskynder jo altid en synder at få et sidste, uskyldigt ønske
opfyldt før han bliver afviklet; jeg ville så gerne oversætte et modulært
styresystem der både understøttede netværk og implementerede lagerbeskyttelse.
Det er jo det sidste styresystem jeg vil få i denne verden.

\says{BPF}[overvejende] Jah-va'\ldots{} det går vel nok an

\says{F} Compileren oversatte nu sin kerne, og 1-2-4, der stod alle
headerfilerne.

\scene H hopper ind. Han har selv den største hat på og holder to pinde hvorpå
de andre to hatte sidder. Han smiler undskyldende til publikum.

\says{C} Hjælp mig nu at jeg ikke bliver portet!

\says{F} Og der udbryd tumult og håndgemæng.

\scene H og BPF trækker hver deres lyssværd og begynder at fægte. H får samtidig
en mikrofon fra f.eks. F.

\says{H} Hvis du terminerer mig nu, bliver jeg mægtigere end du nogensinde kunne
forestille dig.

\says{F} Men det lod brugerprocessens far sig ikke gå på af og terminerede blot
headerne \act{BPF slår H ihjel}. Det skulle han dog ikke have gjort, for straks
begyndte compileren at slynge om sig med fejlmeddelelser.

\says{C}[trækker sit lyssværd] Nøj, du er en fræk fyr! Nu skal du få!

\scene C og BPF fægter lidt og BPF slår sværdet ud af C's hånd og C ryger på knæ
og er ynkelig som Luke.

\says{BPF}[med sværdet på C's strube] Headeren viste dig aldrig logfilerne over
hvem der først instantierede dig.

\says{C}[overrasket] Øh?

\says{BPF} Jeg er din far!

\says{C}[overrasket] Neej!

\says{BPF} Jo. Grep i dine konfigurationsfiler. Du ved at det er sandt.

\says{C}[skræmt] NEEEEJ!

\says{BPF} Jo. Dereferer din far-pointer!

\says{C}[forfærdet] NEEEEEEEEEEEEEEEEEEEEJ!

\says{BPF}[rækker hånden ud] Kom med mig, bliv portet til Windows og sammen kan vi overtage 98\%
af markedet!

\scene C rejser sig op

\says{C}[kunstpause] Orv! Cool!

\scene BPF og C forlader sammen scenen -- glade!

\scene F går hen til B, tager hende under armen og vender sig mod publikum.

\says{F} Og som ethvert godt eventyr har vores også en morale; og moralen er
``Compilere der portes til Windowsbaserede domæner, bør ikke fjernaktivere
Linux-baserede kvindelogikprogrammer!

\scene TÆPPE

\end{sketch}

\end{document}
% Local Variables: 
% mode: latex
% TeX-master: t
% End: 
